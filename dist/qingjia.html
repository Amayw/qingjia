<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/weui.9b9030f2.css">
    <link rel="stylesheet" href="/weuix.312c51ca.css">
    <link rel="stylesheet" href="/main.c52e0fe2.css">
    <script src="/zepto.min.5b7eb39e.js"></script>
    <script src="/zepto.weui.e8f317ec.js"></script>
    <script src="/php.2bf8aca2.js"></script>
    <script src="/lrz.min.7bed00b4.js"></script>
    <title>请假详细</title>
    <style>.weui-cells.custom .weui-cell {
        padding: 12px 15px;
      }
      .weui-cell {
        position: initial;
        display: flex;
        -webkit-box-align: center;
        align-items: center;
      }
      .weui-cells.custom .weui-cell .weui-cell__bd {
        max-width: 30%;
      }
      .weui-cell__bd {
        -webkit-box-flex: 1;
        flex: 1;
      }
      .r-mark {
        color: #f00;
        padding-right: 5px;
        font-style: normal;
      }
      .weui-cells.custom .weui-cell .weui-cell__ft {
        flex: 1;
        text-align: right;
        color: #999999;
      }
      .weui-input {
        width: 100%;
        border: 0;
        outline: 0;
        -webkit-appearance: none;
        background-color: transparent;
        font-size: inherit;
        color: inherit;
        height: 1.47058824em;
        line-height: 1.47058824;
      }
      .container.leavedetails .leaveinfo.notpass .info .name span {
        color: #fff;
      }
      .container.leavedetails .flow > ul > li .content .ttl {
        font-weight: 500;
      }
      .container.leavedetails .flow > ul > li .avatar {
        width: 40px;
        height: 40px;
        font-size: 15px;
      }
      .container.leavedetails .leaveinfo .infodetails .box .item span {
        font-weight: 500;
        font-size: 16px;
      }
      .container.leavedetails .leaveinfo .explain .box .infocontent {
        margin: 0;
        flex: 1;
        font-weight: 500;
        color: #3961b0;
      }
      .container.leavedetails .leaveinfo.pass .info .name span {
        color: #fff;
      }
      #fhan {
        transform: rotate(-180deg);
      }</style>
  <script src="/weui.9b9030f2.js"></script><script src="/weuix.312c51ca.js"></script><script src="/main.c52e0fe2.js"></script></head>
  <body>
    <div class="container leavedetails">
      <!--审核通过 调用class  pass   为通过调用  notpass-->

      <div class="leaveinfo pass">
        <div class="info">
          <div class="avatar" style="width: 45px; height: 45px; font-size: 17px;">
            <!-- <img src="images/temp/avatar.jpg" alt=""> -->
            雯玥
          </div>
          <div class="name">
            <span style="font-size: 16px;">王雯玥</span>
            <span style="font-size: 12px; color: #cac0c0fa;">审批已通过</span>
          </div>
        </div>
        <div class="infodetails">
          <div class="box">
            <div class="item">
              <span class="title">所在学院</span>
              <span>网络空间安全学院</span>
            </div>
          </div>
          <div class="box">
            <div class="item">
              <span class="title">请假类型</span>
              <span>私事</span>
            </div>
            <div class="item">
              <span class="title">请假时长</span>
              <span id="qjsxs">10小时</span>
            </div>
          </div>
          <div class="box">
            <div class="item">
              <span class="title">请假开始时间</span>
              <span>2020-07-21 10时</span>
            </div>
            <div class="item">
              <span class="title">请假结束时间</span>
              <span>2020-07-21 18时</span>
            </div>
          </div>
        </div>
        <div class="explain">
          <div class="box">
            <span class="title">请假事由</span>
            <p class="infocontent">事假</p>
          </div>
          <div class="box">
            <span class="title">前往目的地</span>
            <p class="infocontent">西安市内</p>
          </div>
          <div class="box">
            <span class="title">事由说明</span>
            <p class="infocontent">
              感觉最近度数增大，眼睛度数不够，进城配眼镜（如果需要，可以将配镜发票拍照留存）
            </p>
          </div>

          <div class="box">
            <span class="title">延期时间</span>
            <p class="infocontent">2020-06-21 20时</p>
          </div>
          <div class="box">
            <span class="title">延期说明</span>
            <p class="infocontent">
              早上有课拖堂，出去晚了，六点可能回不来，故延时到八点
            </p>
          </div>
        </div>
      </div>
      <div class="flow">
        <ul>
          <li>
            <!--审核通过 调用class  pass   为通过调用  notpass-->
            <div class="avatar">
              雯玥
            </div>
            <!-- <img src="images/temp/avatar.jpg" alt=""> -->
            <div class="content">
              <div class="ttl">
                <span class="text" style="font-size: 16px;">发起申请</span>
                <span class="time">07-20 22:32</span>
              </div>
            </div>
          </li>

          <li>
            <!--审核通过 调用class  pass   为通过调用  notpass-->
            <div class="avatar pass">
              省欣
            </div>
            <div class="content">
              <div class="ttl">
                <span class="text" style="font-size: 16px;">王省欣审核（已通过）</span>
                <span class="time">07-19 11:20</span>
              </div>
              <div class="ctn"></div>
            </div>
          </li>

          <li>
            <!--审核通过 调用class  pass   为通过调用  notpass-->
            <div class="avatar pass">
              宁军
            </div>
            <div class="content">
              <div class="ttl">
                <span class="text" style="font-size: 16px;">王宁军审核（已通过）</span>
                <span class="time">07-19 11:30</span>
              </div>
              <div class="ctn"></div>
            </div>
          </li>

          <li>
            <!--审核通过 调用class  pass   为通过调用  notpass-->
            <div class="avatar pass">
              省欣
            </div>
            <div class="content">
              <div class="ttl">
                <span class="text" style="font-size: 16px;">王省欣审核（已通过）</span>
                <span class="time">07-20 16:50</span>
              </div>
              <div class="ctn"></div>
            </div>
          </li>

          <li>
            <!--审核通过 调用class  pass   为通过调用  notpass-->
            <div class="avatar pass">
              宁军
            </div>
            <div class="content">
              <div class="ttl">
                <span class="text" style="font-size: 16px;">王宁军审核（已通过）</span>
                <span class="time">07-20 17:06</span>
              </div>
              <div class="ctn"></div>
            </div>
          </li>

          <!-- <li>
            <div class="avatar">
              雯玥
            </div> -->
          <!-- <img src="images/temp/avatar.jpg" alt=""> -->
          <!-- <div class="content">
              <div class="ttl">
                <span class="text" style="font-size: 16px;">销假</span>
                <span class="time">06-24 22:07</span>
              </div>
              <div class="ctn"></div>
            </div>
          </li> -->

          <li>
            <div class="pointer">
              <i class="icon"></i>
            </div>
            <div class="content pointer">
              <div class="ttl">审批共耗时2天18小时34分钟</div>
            </div>
          </li>
        </ul>
      </div>
      <div style="text-align: left;">
        <button type="button" onclick="javascript:history.back(-1);" style="
            background-color: transparent;
            border-style: none;
            line-height: 30px;
            color: #538fff;
            outline: none;
          ">
          <i id="fhan" style="font-size: 14px; margin-right: -3px;" class="icon iconfont icon-41"></i>
          返回
        </button>
      </div>
      <div class="footer-copy-space"></div>
    </div>

    <script src="/checkdev.2c2bb14c.js"></script>
    <script>$(document).ready(function () {
  $("#titlebtn").click(function () {
    var titlebtn = $("#titlebtn");
    var titlecontent = $("#titlecontent");

    if (titlecontent.is(":hidden")) {
      titlebtn.removeClass("up").addClass("dowm");
      $("#titlecontent").show();
    } else {
      titlebtn.removeClass("dowm").addClass("up");
      $("#titlecontent").hide();
    }
  });
});
$("#qssj").datetimePicker({
  title: "请选择请假开始时间",
  years: range(1940, 2030),

  /* cols: [
          {
              values:$("#qssj").val(),
              displayValues:$("#qssj").val().substr(0,$("#qssj").val().length-1)
          }
      ], */
  value: $("#qssj").val(),
  times: function times() {
    return [];
  },
  parse: function parse(str) {
    return str.split("-");
  },
  onChange: function onChange(picker, values, displayValues) {},
  onClose: function onClose(p, values, displayValues) {
    $("#qssj").val(p.value[0] + "-" + p.value[1] + "-" + p.value[2] + " " + p.value[3] + "时");
    var qssj = $("#qssj").val();
    var jzsj = $("#jzsj").val();

    if (qssj != "" && qssj != null && qssj != "undefined" && jzsj != "" && jzsj != null && jzsj != "undefined") {
      qssj = qssj.substr(0, qssj.length - 1).replace(/-/g, "/");
      jzsj = jzsj.substr(0, jzsj.length - 1).replace(/-/g, "/");
      var date1 = new Date(qssj);
      var date2 = new Date(jzsj);
      var s1 = date1.getTime(),
          s2 = date2.getTime();
      var total = (s2 - s1) / 1000;
      var day = parseInt(total / (24 * 60 * 60)); //计算整数天数

      var afterDay = total - day * 24 * 60 * 60; //取得算出天数后剩余的秒数

      var hour = parseInt(afterDay / (60 * 60)); //计算整数小时数

      if (day != 0) {
        $("#qjsxs").val(day + "天" + hour + "时");
      } else {
        $("#qjsxs").val(hour + "时");
      }
    }
  }
});
$("#jzsj").datetimePicker({
  title: "请选择请假开始时间",
  years: range(1940, 2030),
  value: $("#jzsj").val(),
  times: function times() {
    return [];
  },
  parse: function parse(str) {
    return str.split("-");
  },
  onChange: function onChange(picker, values, displayValues) {},
  onClose: function onClose(p, values, displayValues) {
    $("#jzsj").val(p.value[0] + "-" + p.value[1] + "-" + p.value[2] + " " + p.value[3] + "时");
    var qssj = $("#qssj").val();
    var jzsj = $("#jzsj").val();

    if (qssj != "" && qssj != null && qssj != "undefined" && jzsj != "" && jzsj != null && jzsj != "undefined") {
      qssj = qssj.substr(0, qssj.length - 1).replace(/-/g, "/");
      jzsj = jzsj.substr(0, jzsj.length - 1).replace(/-/g, "/");
      var date1 = new Date(qssj);
      var date2 = new Date(jzsj);
      var s1 = date1.getTime(),
          s2 = date2.getTime();
      var total = (s2 - s1) / 1000;
      var day = parseInt(total / (24 * 60 * 60)); //计算整数天数

      var afterDay = total - day * 24 * 60 * 60; //取得算出天数后剩余的秒数

      var hour = parseInt(afterDay / (60 * 60)); //计算整数小时数

      if (day != 0) {
        $("#qjsxs").val(day + "天" + hour + "时");
      } else {
        $("#qjsxs").val(hour + "时");
      }
    }
  }
});</script>
    <script src="/checkdev.2c2bb14c.js"></script>
  </body>
</html>
